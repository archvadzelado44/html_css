!function(p){p.alerts={verticalOffset:-40,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(e,t,o){null==t&&(t=langs.Message),p.alerts._show(t,e,null,"alert",function(p){o&&o(p)})},confirm:function(e,t,o){null==t&&(t=langs.Message),p.alerts._show(t,e,null,"confirm",function(p){o&&o(p)})},prompt:function(e,t,o,n){null==o&&(o=langs.Message),p.alerts._show(o,e,t,"prompt",function(p){n&&n(p)})},dialog:function(e,t,o,n){null==o&&(o=langs.Message),p.alerts._show(o,e,t,"dialog",function(p){n&&n(p)})},_show:function(e,t,o,n,i){p.alerts._hide(),p.alerts._overlay("show"),p("BODY").append('<div id="popup_container" class="black-inputs"><h3 id="popup_title"><span></span><a id="popup_close" title="'+langs.Close+'"></a></h3><div id="popup_content"><div id="popup_message"></div></div></div>'),p.alerts.dialogClass&&p("#popup_container").addClass(p.alerts.dialogClass);switch(p("#popup_container").css({position:"fixed",zIndex:maxZ(),padding:0,margin:0}),e=void 0!=e?e:langs.Message,void 0!=e?p("#popup_title").find("span").text(e):p("#popup_title").find("span").remove(),p("#popup_content").addClass(n),p("#popup_message").text(t),p("#popup_message").html(p("#popup_message").text().replace(/\n/g,"<br />")),p("#popup_container").css({minWidth:p("#popup_container").outerWidth(),maxWidth:p("#popup_container").outerWidth()}),p.alerts._reposition(),p.alerts._maintainPosition(!0),n){case"alert":p("#popup_message").after('<div id="popup_panel"><input type="button" class="btn btn-green" value="'+p.alerts.okButton+'" id="popup_ok" /></div>'),p("#popup_ok").click(function(){p.alerts._hide(),i(!0)}),p("#popup_ok").focus().keypress(function(e){13!=e.keyCode&&27!=e.keyCode||p("#popup_ok").trigger("click")});break;case"confirm":p("#popup_message").after('<div id="popup_panel"><input type="button" class="btn btn-green" value="'+p.alerts.okButton+'" id="popup_ok" /> <input type="button" class="btn btn-white" value="'+p.alerts.cancelButton+'" id="popup_cancel" /></div>'),p("#popup_ok").click(function(){p.alerts._hide(),i&&i(!0)}),p("#popup_cancel").click(function(){p.alerts._hide(),i&&i(!1)}),p("#popup_ok").focus(),p("#popup_ok, #popup_cancel").keypress(function(e){13==e.keyCode&&p("#popup_ok").trigger("click"),27==e.keyCode&&p("#popup_cancel").trigger("click")});break;case"prompt":p("#popup_message").append('<br /><input type="text" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" class="btn btn-green" value="'+p.alerts.okButton+'" id="popup_ok" /> <input type="button" class="btn btn-white" value="'+p.alerts.cancelButton+'" id="popup_cancel" /></div>'),p("#popup_ok").click(function(){var e=p("#popup_prompt").val();p.alerts._hide(),i&&i(e)}),p("#popup_cancel").click(function(){p.alerts._hide(),i&&i(null)}),p("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(e){13==e.keyCode&&p("#popup_ok").trigger("click"),27==e.keyCode&&p("#popup_cancel").trigger("click")}),o&&p("#popup_prompt").val(o),p("#popup_prompt").focus().select();break;case"dialog":var a=o,s="";if("object"==typeof a){for(var l=0;l<a.length;l++)s+='<input type="button" class="btn '+a[l].class+'" value="'+a[l].text+'" id="'+a[l].id+'" />';p.each(a,function(p,e){s+='<input type="button" class="btn '+e.class+'" value="'+e.text+'" id="'+p+'" />'})}p("#popup_message").after('<div id="popup_panel">'+s+"</div>"),p("#popup_panel :button").click(function(){"function"==typeof a[this.id].click&&a[this.id].click.apply()})}if(p.alerts.draggable)try{p("#popup_container").draggable({handle:p("#popup_title")}),p("#popup_title").css({cursor:"move"})}catch(p){}p("#popup_close").click(function(){p.alerts._hide()})},_hide:function(){p("#popup_container").remove(),p.alerts._overlay("hide"),p.alerts._maintainPosition(!1)},_overlay:function(e){switch(e){case"show":p.alerts._overlay("hide"),p("BODY").append('<div id="popup_overlay"></div>'),p("#popup_overlay").css({position:"absolute",zIndex:maxZ(),top:"0px",left:"0px",width:"100%",height:p(document).height(),background:"#555",opacity:"0.6"});break;case"hide":p("#popup_overlay").remove()}},_reposition:function(){var e=p(window).height()/2-p("#popup_container").outerHeight()/2+p.alerts.verticalOffset,t=p(window).width()/2-p("#popup_container").outerWidth()/2+p.alerts.horizontalOffset;e<0&&(e=0),t<0&&(t=0),p("#popup_container").css({top:e+"px",left:t+"px"}),p("#popup_overlay").height(p(document).height())},_maintainPosition:function(e){if(p.alerts.repositionOnResize)switch(e){case!0:p(window).bind("resize",p.alerts._reposition);break;case!1:p(window).unbind("resize",p.alerts._reposition)}}},jAlert=function(e,t,o){p.alerts.alert(e,t,o)},jConfirm=function(e,t,o){p.alerts.confirm(e,t,o)},jPrompt=function(e,t,o,n){p.alerts.prompt(e,t,o,n)},jDialog=function(e,t,o,n){p.alerts.dialog(e,t,o,n)}}(jQuery);